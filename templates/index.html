<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home | PriceHub</title>
    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            font-family: sans-serif;
            list-style: none;
            text-decoration: none;
        }

        body {
            min-height: 100vh;
            background: #eeeeee;
        }

        .content {
            height: 100%;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        main {
            max-width: 60%;
            margin: 0 auto;
        }

        .categories {
            padding-top: 50px;
            padding-bottom: 50px;
        }

        .categories .content-ul {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }

        .categories .content-ul li {
            width: 23%;
        }

        .categories .content-ul li a {
            color: black;
        }

        .box {
            width: 100%;
            padding: 20px;
            background: #444444;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .box div {
            display: flex;
            gap: 15px;
            color: white;
        }

        .box div a {
            color: white;
        }

        .compare .compare-block .block img {
            width: 230px;
        }

        .compare .compare-block .block a {
            color: black;
        }

        .box select {
            color: black;
            padding: 12px;
            width: 250px;
            border: none;
            font-size: 20px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
            outline: none;
            border-radius: 10px;
        }

        .box select::-webkit-scrollbar {
            width: 10px;
            background: #c4c4c4;
            border-radius: 30px;
        }

        .box select::-webkit-scrollbar-thumb {
            width: 10px;
            background: #929292;
            border-radius: 30px;
        }

        .box:hover::before {
            color: rgba(255, 255, 255, 0.6);
            background-color: rgba(255, 255, 255, 0.2);
        }

        .box select option {
            padding: 30px;
        }

        .search {
            display: flex;
            gap: 10px;
            width: 100%;
            justify-content: center;
            margin: 50px 0;

        }

        .search input {
            padding: 10px;
            border-radius: 10px;
            border: 1px solid black;
        }

        .search-btn {
            border-radius: 10px;
        }

        .popular {
            width: 100%;
            padding-top: 20px;
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .popular_product {
            width: 24%;
            border-radius: 10px;
            padding: 15px;
            padding-bottom: 30px;
            background: #e5e5e5;
            cursor: pointer;
            min-height: 280px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            color: black;
        }

        .popular_product div {
            display: flex;
            flex-direction: column;
            gap: 15px;
            font-size: 18px;
            margin-top: 10px;
        }

        .popular_product p:nth-child(2) {
            font-weight: 700;
        }

        .popular_product img {
            width: 100%;
            border-radius: 10px;
        }

        .popular_product:hover {
            background: #c5c5c5;
        }

        .cont {
            padding-bottom: 30px;
        }
    </style>
</head>
<body>
{% block content %}
<div class="content">
    <div class="box">
        <div>
            <a href="/">Home</a>
            <a href="/compare">Comparing</a>
            <a href="/categories">Categories</a>

        </div>
        <form action="/login">
            <button style="border-radius: 10px; border: 1px solid black; width: 60px;">Log in</button>
        </form>
    </div>

    <main>
        <div class="search">
            <input class="search-inp" type="text" name="search">
            <button class="search-btn" style="border-radius: 10px; border: 1px solid black; width: 60px;">Найти</button>

        </div>
        <div class="categories">
            <ul class="content-ul">
                {% for category in categories %}
                <li>
                    <a href="">{{ category.title }}</a>
                </li>
                {% endfor %}
            </ul>
        </div>
        <div class="cont">
            <h1>Popular Phones</h1>
            <div class="popular">
            </div>
        </div>
    </main>
</div>
{% endblock %}
<script>
    let arr = [
        {
            id: 1,
            title: "iphone12",
            price: '120000',
            photo: "https://images.uzum.uz/cfr01mvhj8j9g6986qr0/original.jpg",
            url: "https://uzum.uz/ru/product/Chekhol-prozrachnyj-dlya-253351",
        },
        {
            id: 2,
            title: "iphone12",
            price: '120000',
            photo: "https://images.uzum.uz/cfr01mvhj8j9g6986qr0/original.jpg",
            url: "https://uzum.uz/ru/product/Chekhol-prozrachnyj-dlya-253351",
        },
        {
            id: 3,
            title: "iphone12",
            price: '120000',
            photo: "https://images.uzum.uz/cfr01mvhj8j9g6986qr0/original.jpg",
            url: "https://uzum.uz/ru/product/Chekhol-prozrachnyj-dlya-253351",
        },
        {
            id: 4,
            title: "iphone14",
            price: '120000',
            photo: "https://images.uzum.uz/cfr01mvhj8j9g6986qr0/original.jpg",
            url: "https://uzum.uz/ru/product/Chekhol-prozrachnyj-dlya-253351",
        }
    ]
    let result = []

    let inp = document.querySelector('.search-inp')
    let cont = document.querySelector('.popular')
    inp.onkeyup = () => {
        result = arr.filter(i => i.title.includes(inp.value))
        reload(result)
    }

    function reload(prodcucts) {
        cont.innerHTML = ''
        for (let i of prodcucts) {
            cont.innerHTML += `
                <a class="popular_product" href="${i.link}">
                    <img src="${i.photo}" alt="">
                        <div>
                            <p>${i.title}</p>
                            <p>${i.price}</p>
                        </div>
                </a>
           `
        }
    }
    reload(arr)
</script>
</body>
</html>